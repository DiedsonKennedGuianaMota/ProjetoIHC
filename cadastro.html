<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>BiBank - Cadastro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
    <div class="header-left"></div>
    <div class="logo"><span class="logo-flag"></span>BiBank</div>
    <nav><ul><li><a href="sobre.html">Sobre nós</a></li></ul></nav>
</header>

<main class="container" style="justify-content: center;">
    <div class="card">
        <h2>Finalize seu Cadastro</h2>
        <p>CPF: <strong id="cpf-display"></strong></p>
        <input type="text" id="nome" placeholder="Nome Completo">
        <input type="password" id="senha" placeholder="Crie uma senha (mín. 6 caracteres)">
        <button id="finalizar-cadastro-btn" class="primary">Finalizar Cadastro</button>
    </div>
</main>

<div id="notification"></div>
<footer> Desenvolvido por Diedson Kenned </footer>

<script>
    const cpf = localStorage.getItem('cpfParaCadastro');
    if (!cpf) { window.location.href = 'index.html'; }
    document.getElementById('cpf-display').textContent = cpf;

    document.getElementById('finalizar-cadastro-btn').addEventListener('click', () => {
        const nome = document.getElementById('nome').value.trim();
        const senha = document.getElementById('senha').value;
        if (!nome || !senha || senha.length < 6) { alert('Preencha todos os campos. A senha deve ter no mínimo 6 caracteres.'); return; }

        const users = JSON.parse(localStorage.getItem('biBankUsers')) || [];
        const novoUsuario = {
            cpf: cpf, nome: nome, senha: senha,
            saldos: { corrente: 1000.00, poupanca: 500.00 },
            saldoVisivel: true,
            extrato: [],
            emprestimoAtivo: false, faturaEmprestimo: 0, valorEmprestimo: 0,
            saldoInvestimento: 0,
            cartaoLimiteTotal: 2000.00, cartaoFaturaAtual: 0,
            pixAgendados: []
        };

        users.push(novoUsuario);
        localStorage.setItem('biBankUsers', JSON.stringify(users));
        localStorage.removeItem('cpfParaCadastro');
        alert('Cadastro realizado! Redirecionando para login.');
        window.location.href = 'login.html';
    });
</script>
</body>
</html>