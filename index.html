<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>BiBank - Bem-vindo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
    <div class="header-left"></div>
    <div class="logo">BiBank</div>
    <nav>
        <ul>
            <li><a href="sobre.html">Sobre nós</a></li>
        </ul>
    </nav>
</header>

<main class="container">
    <div class="left">
        <h1>O banco digital<br>feito para você.</h1>
    </div>
    <div class="right">
        <div class="card">
            <h2>Abra sua conta. É rápido e fácil.</h2>
            <p>Comece digitando seu CPF.</p>
            <input type="text" id="cpf" placeholder="___.___.___-__" maxlength="11">
            <button id="iniciar-cadastro-btn">Continuar Cadastro</button>
            <p class="link-login">Já tem conta? <a href="login.html">Faça login</a></p>
        </div>
    </div>
</main>

<div id="notification"></div>
<footer> Desenvolvido por Diedson Kenned </footer>

<script>
    const cpfInput = document.getElementById('cpf');
    const btn = document.getElementById('iniciar-cadastro-btn');
    const notification = document.getElementById('notification');

    const showNotification = (message, type = 'error') => {
        notification.textContent = message;
        notification.className = type;
        notification.classList.add('show');
        setTimeout(() => { notification.classList.remove('show'); }, 3000);
    };

    btn.addEventListener('click', () => {
        const cpf = cpfInput.value.trim();
        if (cpf.length !== 11 || !/^\d+$/.test(cpf)) {
            showNotification('Por favor, digite um CPF válido com 11 números.');
            return;
        }

        const users = JSON.parse(localStorage.getItem('biBankUsers')) || [];
        const userExists = users.some(user => user.cpf === cpf);

        if (userExists) {
            showNotification('Este CPF já está cadastrado. Tente fazer o login.');
            return;
        }

        // Salva o CPF para a próxima página e redireciona
        localStorage.setItem('cpfParaCadastro', cpf);
        window.location.href = 'cadastro.html';
    });
</script>
</body>
</html>